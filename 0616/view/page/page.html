<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>새 페이지 생성</title>
  <link rel="icon" href="/images/logo_noback(withoutLettter).png" type="image/x-icon" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
  <link rel="stylesheet" href="/css/index.css" />
  <link rel="stylesheet" href="/css/page/new.css" />
</head>

<body>
  <div class="app-header">
    <div class="header">
      <div class="header-logo">
        <a href="/dashboard/dashboard.html">
          <img src="/images/logo_noback(withoutLettter).png" alt="로고" />
          <img src="/images/logo_title.png" class="logo-title" alt="로고타이틀" />
        </a>
      </div>
      <div class="memu">
        <a href="/board/main.html">
          <img src="/images/header/board.png" alt="게시판" class="memu-icon" />
        </a>
        <div class="vertical-divider"></div>
        <a href="/chat/main.html">
          <img src="/images/header/chat.png" alt="메세지" class="memu-icon" />
        </a>
        <div class="vertical-divider"></div>
        <a href="/calender/calender.html">
          <img src="/images/header/calendar.png" alt="캘린더" class="memu-icon" />
        </a>
        <div class="vertical-divider"></div>
        <a href="/project/main.html">
          <img src="/images/header/project.png" alt="프로젝트" class="memu-icon" />
        </a>
        <div class="vertical-divider"></div>
        <a href="/page/pageMain.html">
          <img src="/images/header/page.png" alt="페이지" class="memu-icon" />
        </a>
        <div class="vertical-divider"></div>
        <a href="/drive/drive.html">
          <img src="/images/header/drive.png" alt="드라이브" class="memu-icon" />
        </a>
        <div class="vertical-divider"></div>
        <a href="/admin/profile.html">
          <img src="/images/header/settings.png" alt="설정" class="memu-icon" />
        </a>
        <div class="vertical-divider"></div>
        <img src="/images/off.png" alt="로그아웃" class="logout" />
        <div class="vertical-divider"></div>
      </div>
      <span class="status">ONLINE <span>●</span></span>
      <img src="/images/profile1.png" alt="프로필이미지" />
      <span class="admin">김팀장<br />Admin</span>
    </div>
  </div>



  <div class="app-footer">version 0.0.1-SNAPSHOT</div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      // Share Button & Modal Logic
      const shareBtn = document.getElementById("shareBtn");
      const shareModal = document.getElementById("shareModal");
      const permissionDropdownBtn = document.getElementById(
        "permissionDropdownBtn"
      );
      const permissionOptions = document.getElementById("permissionOptions");

      if (shareBtn && shareModal) {
        // Check if elements exist
        shareBtn.addEventListener("click", (event) => {
          event.stopPropagation(); // Prevent document click from immediately closing
          shareModal.classList.toggle("show");
          // Hide permission options if share modal closes
          if (!shareModal.classList.contains("show")) {
            permissionOptions.classList.remove("show");
          }
        });
      }

      // Toggle permission options dropdown
      if (permissionDropdownBtn && permissionOptions) {
        permissionDropdownBtn.addEventListener("click", (event) => {
          event.stopPropagation(); // Prevent click from bubbling to document and closing modal
          permissionOptions.classList.toggle("show");
        });
      }

      // Close share modal and permission options when clicking outside
      document.addEventListener("click", (event) => {
        if (
          shareModal &&
          !shareModal.contains(event.target) &&
          event.target !== shareBtn
        ) {
          shareModal.classList.remove("show");
        }
        if (
          permissionOptions &&
          !permissionOptions.contains(event.target) &&
          event.target !== permissionDropdownBtn
        ) {
          permissionOptions.classList.remove("show");
        }
      });

      // Select permission option
      if (permissionOptions) {
        permissionOptions.querySelectorAll("li").forEach((option) => {
          option.addEventListener("click", () => {
            if (permissionDropdownBtn) {
              // Safely update button text, handling text nodes
              permissionDropdownBtn.childNodes[0].nodeValue =
                option.textContent.trim() + " ";
            }
            permissionOptions.classList.remove("show"); // Hide dropdown
          });
        });
      }

      // Collapsible Sidebar Sections (for Notion-style sidebar)
      document
        .querySelectorAll(".notion-style-sidebar .section-title")
        .forEach((title) => {
          title.addEventListener("click", () => {
            const targetId = title.dataset.target;
            const content = document.getElementById(targetId);
            if (content) {
              content.classList.toggle("collapsed");
              title.classList.toggle("collapsed");
            }
          });
        });
    });
  </script>
</body>

</html>